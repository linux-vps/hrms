2025-06-03 17:51:04,351 - INFO - Using database connection from environment variable
2025-06-03 17:51:05,027 - INFO - [OK] Successfully connected to PostgreSQL database
2025-06-03 17:51:05,027 - INFO - [OK] MCP Server configured. PostgreSQL connection established.
2025-06-03 17:51:05,027 - INFO -    All database operations will use this connection.
2025-06-03 17:51:05,454 - INFO - Using database connection from environment variable
2025-06-03 17:51:06,125 - INFO - [OK] Successfully connected to PostgreSQL database
2025-06-03 17:51:06,125 - INFO - [OK] MCP Server configured. PostgreSQL connection established.
2025-06-03 17:51:06,130 - INFO -    All database operations will use this connection.
2025-06-03 17:55:30,485 - INFO - Using database connection from environment variable
2025-06-03 17:55:31,950 - INFO - [OK] Successfully connected to PostgreSQL database
2025-06-03 17:55:31,950 - INFO - [OK] MCP Server configured. PostgreSQL connection established.
2025-06-03 17:55:31,951 - INFO -    All database operations will use this connection.
2025-06-03 17:55:32,393 - INFO - Using database connection from environment variable
2025-06-03 17:55:33,844 - INFO - [OK] Successfully connected to PostgreSQL database
2025-06-03 17:55:33,846 - INFO - [OK] MCP Server configured. PostgreSQL connection established.
2025-06-03 17:55:33,846 - INFO -    All database operations will use this connection.
2025-06-03 17:55:54,997 - INFO - Received tool execution request: tool='get_all_products', params={}
2025-06-03 17:55:54,997 - INFO - Using database connection from environment variable
2025-06-03 17:55:56,225 - INFO - Retrieved 4 products from database
2025-06-03 17:55:56,225 - INFO - Sending tool execution response (status=200)
2025-06-03 17:55:59,404 - INFO - Received tool execution request: tool='get_customer_info', params={'customer_id': '17'}
2025-06-03 17:55:59,404 - INFO - Using database connection from environment variable
2025-06-03 17:55:59,906 - INFO - Successfully retrieved comprehensive customer info for customer ID 17
2025-06-03 17:55:59,906 - INFO - Sending tool execution response (status=200)
2025-06-03 17:56:11,933 - INFO - Received tool execution request: tool='get_customer_info', params={'customer_id': '17'}
2025-06-03 17:56:11,934 - INFO - Using database connection from environment variable
2025-06-03 17:56:13,580 - INFO - Successfully retrieved comprehensive customer info for customer ID 17
2025-06-03 17:56:13,582 - INFO - Sending tool execution response (status=200)
2025-06-03 17:56:57,021 - INFO - Received tool execution request: tool='get_all_products', params={}
2025-06-03 17:56:57,021 - INFO - Using database connection from environment variable
2025-06-03 17:56:57,638 - INFO - Retrieved 4 products from database
2025-06-03 17:56:57,639 - INFO - Sending tool execution response (status=200)
2025-06-03 18:00:04,914 - INFO - Received tool execution request: tool='get_all_products', params={}
2025-06-03 18:00:04,914 - INFO - Using database connection from environment variable
2025-06-03 18:00:05,199 - INFO - Retrieved 4 products from database
2025-06-03 18:00:05,201 - INFO - Sending tool execution response (status=200)
2025-06-03 18:00:08,794 - INFO - Received tool execution request: tool='get_customer_info', params={'customer_id': '17'}
2025-06-03 18:00:08,794 - INFO - Using database connection from environment variable
2025-06-03 18:00:10,638 - INFO - Successfully retrieved comprehensive customer info for customer ID 17
2025-06-03 18:00:10,638 - INFO - Sending tool execution response (status=200)
2025-06-03 18:00:42,812 - INFO - Received tool execution request: tool='get_customer_info', params={'customer_id': '17'}
2025-06-03 18:00:42,812 - INFO - Using database connection from environment variable
2025-06-03 18:00:43,847 - INFO - Successfully retrieved comprehensive customer info for customer ID 17
2025-06-03 18:00:43,848 - INFO - Sending tool execution response (status=200)
2025-06-03 18:05:12,438 - INFO - Received tool execution request: tool='get_all_products', params={}
2025-06-03 18:05:12,438 - INFO - Using database connection from environment variable
2025-06-03 18:05:13,138 - INFO - Retrieved 4 products from database
2025-06-03 18:05:13,139 - INFO - Sending tool execution response (status=200)
2025-06-03 18:05:16,108 - INFO - Received tool execution request: tool='get_customer_info', params={'customer_id': '14'}
2025-06-03 18:05:16,108 - INFO - Using database connection from environment variable
2025-06-03 18:05:17,939 - INFO - Successfully retrieved comprehensive customer info for customer ID 14
2025-06-03 18:05:17,939 - INFO - Sending tool execution response (status=200)
2025-06-03 18:05:30,628 - INFO - Received tool execution request: tool='get_customer_info', params={'customer_id': '14'}
2025-06-03 18:05:30,628 - INFO - Using database connection from environment variable
2025-06-03 18:05:32,337 - INFO - Successfully retrieved comprehensive customer info for customer ID 14
2025-06-03 18:05:32,339 - INFO - Sending tool execution response (status=200)
2025-06-03 18:54:45,292 - INFO - Using database connection from environment variable
2025-06-03 18:54:45,366 - INFO - [OK] Successfully connected to PostgreSQL database
2025-06-03 18:54:45,367 - INFO - [OK] MCP Server configured. PostgreSQL connection established.
2025-06-03 18:54:45,367 - INFO -    All database operations will use this connection.
2025-06-03 18:54:45,846 - INFO - Using database connection from environment variable
2025-06-03 18:54:45,906 - INFO - [OK] Successfully connected to PostgreSQL database
2025-06-03 18:54:45,908 - INFO - [OK] MCP Server configured. PostgreSQL connection established.
2025-06-03 18:54:45,908 - INFO -    All database operations will use this connection.
2025-06-03 18:55:20,112 - INFO - Using database connection from environment variable
2025-06-03 18:55:20,190 - INFO - [OK] Successfully connected to PostgreSQL database
2025-06-03 18:55:20,191 - INFO - [OK] MCP Server configured. PostgreSQL connection established.
2025-06-03 18:55:20,191 - INFO -    All database operations will use this connection.
2025-06-03 18:56:21,467 - INFO - Received tool execution request: tool='get_all_products', params={}
2025-06-03 18:56:21,468 - ERROR - Unknown tool requested: get_all_products
2025-06-03 18:56:21,468 - INFO - Sending tool execution response (status=404)
2025-06-03 18:56:23,518 - INFO - Received tool execution request: tool='get_customer_info', params={'customer_id': '1f7793c6-46e1-4877-a74e-fde54068e794'}
2025-06-03 18:56:23,519 - ERROR - Unknown tool requested: get_customer_info
2025-06-03 18:56:23,519 - INFO - Sending tool execution response (status=404)
2025-06-03 18:57:08,273 - INFO - Received tool execution request: tool='get_employee_info', params={'employee_id': '1f7793c6-46e1-4877-a74e-fde54068e794'}
2025-06-03 18:57:08,273 - INFO - Using database connection from environment variable
2025-06-03 18:57:08,362 - INFO - Successfully retrieved comprehensive employee info for employee ID 1f7793c6-46e1-4877-a74e-fde54068e794
2025-06-03 18:57:08,362 - INFO - Sending tool execution response (status=200)
2025-06-03 18:58:21,592 - INFO - Received tool execution request: tool='get_all_products', params={}
2025-06-03 18:58:21,592 - ERROR - Unknown tool requested: get_all_products
2025-06-03 18:58:21,592 - INFO - Sending tool execution response (status=404)
2025-06-03 18:58:23,626 - INFO - Received tool execution request: tool='get_customer_info', params={'customer_id': '4abc59ac-d825-4c2e-93f9-8e0a1cc44455'}
2025-06-03 18:58:23,627 - ERROR - Unknown tool requested: get_customer_info
2025-06-03 18:58:23,627 - INFO - Sending tool execution response (status=404)
2025-06-03 18:59:05,406 - INFO - Received tool execution request: tool='get_employee_info', params={'employee_id': '4abc59ac-d825-4c2e-93f9-8e0a1cc44455'}
2025-06-03 18:59:05,407 - INFO - Using database connection from environment variable
2025-06-03 18:59:05,473 - INFO - Successfully retrieved comprehensive employee info for employee ID 4abc59ac-d825-4c2e-93f9-8e0a1cc44455
2025-06-03 18:59:05,473 - INFO - Sending tool execution response (status=200)
2025-06-03 19:01:02,028 - INFO - Received tool execution request: tool='get_task_details', params={'task_id': 'b36059f0-c16b-4631-a225-13d9320cd071'}
2025-06-03 19:01:02,029 - INFO - Using database connection from environment variable
2025-06-03 19:01:02,092 - ERROR - Error retrieving task details: column t.assigneeId does not exist
LINE 8:                 LEFT JOIN employee a ON t."assigneeId" = a.i...
                                                ^
HINT:  Perhaps you meant to reference the column "t.assignerId".
Traceback (most recent call last):
  File "C:\Users\dinhn\Desktop\AI-HRMS\mcp-server\app\mcp\tools.py", line 622, in tool_get_task_details
    raw_task = execute_query("""
               ^^^^^^^^^^^^^^^^^
  File "C:\Users\dinhn\Desktop\AI-HRMS\mcp-server\app\mcp\tools.py", line 618, in execute_query
    cursor.execute(query, params)
  File "C:\Users\dinhn\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\psycopg2\extras.py", line 236, in execute
    return super().execute(query, vars)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
psycopg2.errors.UndefinedColumn: column t.assigneeId does not exist
LINE 8:                 LEFT JOIN employee a ON t."assigneeId" = a.i...
                                                ^
HINT:  Perhaps you meant to reference the column "t.assignerId".

2025-06-03 19:01:02,097 - ERROR - Tool 'get_task_details' returned an error: Database error: column t.assigneeId does not exist
LINE 8:                 LEFT JOIN employee a ON t."assigneeId" = a.i...
                                                ^
HINT:  Perhaps you meant to reference the column "t.assignerId".

2025-06-03 19:01:02,097 - INFO - Sending tool execution response (status=400)
2025-06-03 19:01:03,046 - INFO - Using database connection from environment variable
2025-06-03 19:01:03,103 - INFO - [OK] Successfully connected to PostgreSQL database
